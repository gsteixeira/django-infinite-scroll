var InfiniteScroll=(function(){function a(){this.current_lap=0;this.keep_loading=false;this.more_url="";this.prev_page="";this.next_page="";this.extra_args="";this.has_more=false}a.prototype.setUp=function(b,e,d,c,f){this.current_lap=0;this.more_url=b;this.prev_page=e;this.next_page=d;this.has_more=(c==="True");this.keep_loading=this.has_more;this.extra_args=f};a.prototype.load_more=function(){if(!this.keep_loading){return false}var c=document.getElementById("load_more");var b="load_more_"+this.current_lap+"_"+this.next_page;var e=document.getElementById(b);if(e===null&&c!==null&&b!==null){e=document.createElement("div");e.setAttribute("id",b);e.innerHTML='<i class="fa fa-spinner fa-spin" title="loading..."></i>';c.appendChild(e);var d=this.more_url+"?"+this.extra_args+"&page="+this.next_page;updt_from_url(d,b,load_more_callback)}return true};return a}());var scroller=new InfiniteScroll();function scrollDown(b){var d=Math.floor(document.body.scrollHeight/4);if(window.pageYOffset+window.innerHeight>=document.body.scrollHeight-d){scroller.load_more()}var c=document.getElementById("scroll-jmp");if(c!==null&&window.pageYOffset>1500){if(c.style.display!="block"){document.getElementById("scroll-jmp").style.display="block"}}else{if(c!==null&&c.style.display!="none"){document.getElementById("scroll-jmp").style.display="none"}}var a=document.getElementById("a-load-more");if(a!==null&&a.style.display!="block"){document.getElementById("a-load-more").style.display="none"}}function updt_from_url(b,a,d){var c=createXHR();c.onreadystatechange=function(){if(c.readyState==4&&c.status==200){document.getElementById(a).innerHTML=c.responseText;if(typeof d=="function"){d(a)}}};c.open("GET",b,true);c.send()}function load_more_callback(a){var c=document.getElementById(a);if(c===null){return}scroller.next_page=c.querySelector("#next_page").value;scroller.prev_page=c.querySelector("#prev_page").value;scroller.has_more=(c.querySelector("#has_more").value==="True");scroller.keep_loading=(c.querySelector("#keep_loading").value==="True");if(!scroller.has_more){scroller.current_lap+=1;scroller.next_page="0"}var b;if(b!==undefined){b()}}function createXHR(){try{return new XMLHttpRequest()}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(a){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(a){}try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(a){}return null}function scrollToTop(){document.body.scrollTop=0;document.documentElement.scrollTop=0}window.onscroll=scrollDown;